---
interface Props {
    dropdownName: string;
    dropdownItems:
        | Record<string, string>
        | Record<string, Record<string, string>>;
}

const { dropdownName, dropdownItems } = Astro.props;

const isNested = (
    item: string | Record<string, string>
): item is Record<string, string> => typeof item === "object";
---

<div class="collapse collapse-arrow bg-base-200">
    <input type="radio" name="my-accordion-2" />
    <div class="collapse-title text-xl font-medium">
        {dropdownName}
    </div>
    <div class="collapse-content">
        <ul>
            {
                Object.entries(dropdownItems).map(([label, item]) => (
                    <li>
                        {isNested(item) ? (
                            <span>{label}</span>
                            <ul>
                                {Object.entries(item).map(
                                    ([sublabel, link]) => (
                                        <li>
                                            <a href={link}>{sublabel}</a>
                                        </li>
                                    )
                                )}
                            </ul>
                        ) : (
                            <a href={item}>{label}</a>
                        )}
                    </li>
                ))
            }
        </ul>
    </div>
</div>
